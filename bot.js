const Discord = require('discord.js');
const client = new Discord.Client();
const a = new Discord.Client();
const b = new Discord.Client();
const prefix = '&'

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`AboRoh | &help`,"http://twitch.tv/S-F")
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(`[Start Time] ${new Date()}`);
  console.log('ARE YOU READY?')
  console.log('LETS GO BOT ONLINE!!')
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
});

console.log('Loading....');
a.on('ready', () => {
  console.log(`a ONLINE`);
});

b.on('ready', () => {
  console.log(`b ONLINE Lets Sharing!`);
});





const child_process = require("child_process");
const adminprefix = "&";
const devs = ['419471939493429250'];

client.on('message', message => {
if(message.content === adminprefix + "res") {
      if (!devs.includes(message.author.id)) return;
          message.channel.send(`âš ï¸ **Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ Ø§Ø¹Ø§Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª ${message.author.username}**`);
        console.log(`âš ï¸ Ø¬Ø§Ø±ÙŠ Ø§Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª... âš ï¸`);
        client.destroy();
        child_process.fork(__dirname + "/bot.js");
        console.log(`ØªÙ… Ø§Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª`);
    }
  
  }); 

const developers = ["419471939493429250","419471939493429250",""]
client.on('message', message => {
    var argresult = message.content.split(` `).slice(1).join(' ');
      if (!developers.includes(message.author.id)) return;
      
  if (message.content.startsWith(adminprefix + 'sp')) {
    client.user.setGame(argresult);
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
     if (message.content === (adminprefix + "leave")) {
    message.guild.leave();        
  } else  
  if (message.content.startsWith(adminprefix + 'sw')) {
  client.user.setActivity(argresult, {type:'WATCHING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'sl')) {
  client.user.setActivity(argresult , {type:'LISTENING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'st')) {
    client.user.setGame(argresult, "https://www.twitch.tv/idk");
      message.channel.send(`**âœ…**`)
  }
  if (message.content.startsWith(adminprefix + 'setname')) {
  client.user.setUsername(argresult).then
      message.channel.send(`Changing The Name To ..**${argresult}** `)
} else
if (message.content.startsWith(adminprefix + 'setavatar')) {
  client.user.setAvatar(argresult);
    message.channel.send(`Changing The Avatar To :**${argresult}** `);
}
});

var KinG66S = {};
client.on('guildMemberRemove', member => {
KinG66S[member.id] = {roles: member.roles.array()};
});

client.on('guildMemberAdd', member => {
if(!KinG66S[member.user.id]) return;
console.log(KinG66S[member.user.id].roles.length);
for(let i = 0; i < KinG66S[member.user.id].roles.length + 1; i++) {
member.addRole(KinG66S[member.user.id].roles.shift());
}
});


client.on('message',async msg => {
     if(msg.channel.type === "dm") return;
  if(msg.author.bot) return;
  var p = "&";
  if(msg.content.startsWith(p + "setstats")) {
  if(!msg.guild.member(msg.author).hasPermissions('MANAGE_CHANNELS')) return msg.reply('âŒ **go play minecraft**');
  if(!msg.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS'])) return msg.reply('âŒ **Ø§Ù„Ø¨ÙˆØª Ù„Ø§ ÙŠÙ…ØªÙ„Ùƒ ØµÙ„Ø§Ø­ÙŠØ©**');
  var ggg= msg.guild.createChannel('SERVER STATS', 'category').then(kk => {
           var ccc =msg.guild.createChannel('SERVER STATS', 'voice').then(al => {
                var aa =msg.guild.createChannel('SERVER STATS', 'voice').then(alp => {
                   var aaa =msg.guild.createChannel('SERVER STATS', 'voice').then(alph => {
       al.setParent(kk);
       alp.setParent(kk);
       alph.setParent(kk);
       
     al.overwritePermissions(msg.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
     alp.overwritePermissions(msg.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
     alph.overwritePermissions(msg.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
  setInterval(() => {
      var currentTime = new Date(),
hours = currentTime.getHours() + 3 ,
minutes = currentTime.getMinutes(),
Seconds = currentTime.getSeconds(),
Year = currentTime.getFullYear(),
Month = currentTime.getMonth() + 1,
Dat = currentTime.getDate()
if (minutes < 10) {
minutes = "0" + minutes;
}
var suffix = "AM";
if (hours >= 12) {
suffix = "PM";
hours = hours - 12;
}
if (hours == 0) {
hours = 12;
}
     al.setName(`Voice Online :ã€${msg.guild.members.filter(m => m.voiceChannel).size}ã€`);
      alp.setName(`Time :ã€${hours} : ${minutes} ${suffix}ã€`);
        alph.setName(`[ Date :ã€${Year} - ${Month} - ${Dat}ã€`);
 },1000);
                   })
    
                })
           })
  })
           
  }
 
});

client.on('message',async msg => {
  var p = "&";
  if(msg.content.startsWith(p + "setstats")) {
  if(!msg.guild.member(msg.author).hasPermissions('MANAGE_CHANNELS')) return msg.reply('âŒ **go play minecraft**');
  if(!msg.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS'])) return msg.reply('âŒ **Ø§Ù„Ø¨ÙˆØª Ù„Ø§ ÙŠÙ…ØªÙ„Ùƒ ØµÙ„Ø§Ø­ÙŠØ©**');
  msg.guild.createChannel(`ÙŠØªÙ… ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø±ÙˆÙ… :[]` , 'voice').then(time => {
    time.overwritePermissions(msg.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
  setInterval(() => {
      var currentTime = new Date(),
Year = currentTime.getFullYear(),
Month = currentTime.getMonth() + 1,
Dat = currentTime.getDate()
      time.setName(`Members:ã€${client.users.size}ã€`);
 },1000);
  });
  }
 
});


client.on('message', message => {
            if (message.content.startsWith(prefix + "help")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField('**&bc = Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª** ')
.addField('**&ping = Ø¨Ù†Ù‚Ùƒ** ')
.addField('**&music = Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ÙŠÙˆØ²Ùƒ **') 
.addField('**&count = Ø¹Ø¯Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ± **') 
.setColor('RANDOM')
  message.channel.sendEmbed(embed);
    }
});


client.on('message', message => {
              if(!message.channel.guild) return;
    var prefix = "&";
    if(message.content.startsWith(prefix + 'bc')) {
    if(!message.channel.guild) return message.channel.send('**Ø§Ù„Ø£Ù…Ø± Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø¨Ø³**').then(m => m.delete(5000));
  if(!message.member.hasPermission('ADMINISTRATOR')) return      message.channel.send('**Ù…Ø§Ø¹Ù†Ø¯Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©**' );
    let args = message.content.split(" ").join(" ").slice(2 + prefix.length);
    let copy = "Legends";
    let request = `Requested By ${message.author.username}`;
    if (!args) return message.reply('**ØªØ±Ø³Ù„ Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª ÙØ§Ø¶ÙŠØŸ**');message.channel.send(`**Ù…ØªØ£ÙƒØ¯ØŸ** \` ${args}\``).then(msg => {
    msg.react('âœ…')
    .then(() => msg.react('âŒ'))
    .then(() =>msg.react('âœ…'))

    let reaction1Filter = (reaction, user) => reaction.emoji.name === 'âœ…' && user.id === message.author.id;
    let reaction2Filter = (reaction, user) => reaction.emoji.name === 'âŒ' && user.id === message.author.id;

    let reaction1 = msg.createReactionCollector(reaction1Filter, { time: 12000 });
    let reaction2 = msg.createReactionCollector(reaction2Filter, { time: 12000 });
    reaction1.on("collect", r => {
    message.channel.send(`**â˜‘ | Done ... The Broadcast Message Has Been Sent For ${message.guild.members.size} Members**`).then(m => m.delete(5000));
    message.guild.members.forEach(m => {
    var bc = new
       Discord.RichEmbed()
       .setColor('RANDOM')
       .setTitle('**:incoming_envelope:Ø±Ø³Ø§Ù„Ø©:incoming_envelope:')
       .addField('**:diamond_shape_with_a_dot_inside:Ø§Ù„Ø³ÙŠØ±ÙØ±:diamond_shape_with_a_dot_inside:**', message.guild.name)
       .addField('**:black_joker:Ø§Ù„Ù…Ø±Ø³Ù„:black_joker:**', message.author.username)
       .addField(':page_facing_up:Ø§Ù„Ø±Ø³Ø§Ù„Ø©:page_facing_up:', args)
       .setThumbnail(message.author.avatarURL)
       .setFooter(copy, client.user.avatarURL);
    m.send({ embed: bc })
    msg.delete();
    })
    })
    reaction2.on("collect", r => {
    message.channel.send(`**ÙƒÙ†Ø³Ù„ ÙŠØ§ Ù…Ø¯ÙŠØ±**`).then(m => m.delete(5000));
    msg.delete();
    })
    })
    }
let cooldown = new Set();
let cdseconds = 5;
if(!message.content.startsWith(prefix)) return;
  if(cooldown.has(message.author.id)){
    message.delete();
  return  message.reply("Ø§Ù„ØµØ¨Ø± ÙŠØ§ Ø£Ø®ÙŠ")
  }
  if(!message.member.hasPermission("ADMINISTRATOR")){
    cooldown.add(message.author.id);
  }
setTimeout(() => {
  cooldown.delete(message.author.id)
}, cdseconds * 1000)
    });


client.on("message", message => {
      if (message.content === "&ping") {
      const embed = new Discord.RichEmbed()
  .setColor("RANDOM")
  .addField('**Pong:**' , `${Date.now() - message.createdTimestamp}` + ' ms')
  message.channel.sendEmbed(embed);
    }
});

client.on('guildMemberAdd', member=> {
    member.addRole(member.guild.roles.find("name","â˜¤Memberâ˜¤"));
    });

client.on('guildMemberAdd', member => {
    let channel = member.guild.channels.find('name', 'welcome');
    let memberavatar = member.user.avatarURL
    if (!channel) return;
    let embed = new Discord.RichEmbed()
        .setColor('#00ff47')
        .setThumbnail(memberavatar)
        .addField(':crown: | Ø§Ø³Ù…Ùƒ:  ',`${member}`)
        .addField(':pencil:|Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©' , `Ù…Ù†ÙˆØ± Ø§Ù„Ø³ÙŠØ±ÙØ±, ${member}`)
                .addField(':arrow_down:|Ø¹Ø¶Ùˆ Ø±Ù‚Ù…',`${member.guild.memberCount}`)
               
                  .addField("Name:",`<@` + `${member.id}` + `>`, true)
                     
                                     .addField(' Ø§Ù„Ù€Ø³ÙŠØ±ÙØ±', `${member.guild.name}`,true)
                                       
     .setFooter("Legends 4 EVER")
        .setTimestamp()
   
      channel.sendEmbed(embed);
    });



client.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(`:rose:Ù…Ù†ÙˆØ± Ø§Ù„Ø³ÙŠØ±ÙØ±:rose:
:crown:Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©:crown: : ${member}  
Ø±Ù‚Ù…: : ${member.guild.memberCount} `) 
}).catch(console.error)
})

client.on('guildMemberRemove', member => {
    var embed = new Discord.RichEmbed()
    .setAuthor(member.user.username, member.user.avatarURL)
    .setThumbnail(member.user.avatarURL)
    .setTitle(`Ø±Ø§Ø­ Ø§Ù„Ø­Ø¨ÙŠØ¨ Ø±Ø§Ø­`)
    .setDescription(`Ø£Ø³Ø·ÙˆØ±Ø© Ø±Ø§Ø­Øª Ø¹Ù†Ø§`)
    .addField('Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±',`**[ ${member.guild.memberCount} ]**`,true)
    .setColor('RED')
    .setFooter(`Bye..`, '')

var channel =member.guild.channels.find('name', 'welcome')
if (!channel) return;
channel.send({embed : embed});
});



var dat = JSON.parse("{}");
var guild;
client.on("ready", () => {
    guild =  client.guilds.get("456944709391220747")
    guild.fetchInvites()
    .then((data) => {
        data.forEach((Invite, key, map) => {
            var Inv = Invite.code;
            dat[Inv] = Invite.uses;
        })
    })
})
var channel;
client.on("guildMemberAdd", (member) => {
    channel = member.guild.channels.find("name", "welcome")
    if (!channel) {
        console.log("!channel fails");
        return;
    }
    if (member.id == client.user.id) {
        return;
    }
    if(!guild){
       guild =  client.guilds.get("456944709391220747")
    }
    guild.fetchInvites().then((data) => {
        data.forEach((Invite, key, map) => {
            var Inv = Invite.code;
            if (dat[Inv])
                if (dat[Inv] < Invite.uses) {

                    channel.send(`:rose:${member} joined over ${Invite.inviter}'s invite:rose:`)            
                     }
            dat[Inv] = Invite.uses;
        })
    })
});


const ytdl = require("ytdl-core");
const { Client, Util } = require('discord.js');
const getYoutubeID = require('get-youtube-id');
const fetchVideoInfo = require('youtube-info');
const YouTube = require('simple-youtube-api');
const youtube = new YouTube("AIzaSyAdORXg7UZUo7sePv97JyoDqtQVi3Ll0b8");
const queue = new Map();



client.on('message', async msg => { // eslint-disable-line
	if (msg.author.bot) return undefined;
	//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	if (!msg.content.startsWith(prefix)) return undefined;
	const args = msg.content.split(' ');
	const searchString = args.slice(1).join(' ');
	//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	const url = args[1] ? args[1].replace(/<(.+)>/g, '$1') : '';
	const serverQueue = queue.get(msg.guild.id);
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	let command = msg.content.toLowerCase().split(" ")[0];
	command = command.slice(prefix.length)
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	if (command === `play`) {
		const voiceChannel = msg.member.voiceChannel;
		if (!voiceChannel) return msg.channel.send('ÙŠØ¬Ø¨ ØªÙˆØ¢Ø¬Ø¯ Ø­Ø¶Ø±ØªÙƒ Ø¨Ø±ÙˆÙ… ØµÙˆØªÙŠ .');
		const permissions = voiceChannel.permissionsFor(msg.client.user);
		if (!permissions.has('CONNECT')) {
			//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
			return msg.channel.send('Ù„Ø§ ÙŠØªÙˆØ¢Ø¬Ø¯ Ù„Ø¯ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ØªÙƒÙ„Ù… Ø¨Ù‡Ø°Ø¢ Ø§Ù„Ø±ÙˆÙ…');
		}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		if (!permissions.has('SPEAK')) {
			return msg.channel.send('Ù„Ø§ ÙŠØªÙˆØ¢Ø¬Ø¯ Ù„Ø¯ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ØªÙƒÙ„Ù… Ø¨Ù‡Ø°Ø¢ Ø§Ù„Ø±ÙˆÙ…');
		}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

		if (!permissions.has('EMBED_LINKS')) {
			return msg.channel.sendMessage("**ÙŠØ¬Ø¨ ØªÙˆØ¢ÙØ± Ø¨Ø±Ù…Ø´Ù† `EMBED LINKS`Ù„Ø¯ÙŠ **")
		}

		if (url.match(/^https?:\/\/(www.youtube.com|youtube.com)\/playlist(.*)$/)) {
			const playlist = await youtube.getPlaylist(url);
			const videos = await playlist.getVideos();
			//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
			for (const video of Object.values(videos)) {
				const video2 = await youtube.getVideoByID(video.id); // eslint-disable-line no-await-in-loop
				await handleVideo(video2, msg, voiceChannel, true); // eslint-disable-line no-await-in-loop
			}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
			return msg.channel.send(` **${playlist.title}** ØªÙ… Ø§Ù„Ø¥Ø¶Ø¢ÙØ© Ø¥Ù„Ù‰ Ù‚Ø£Ø¦Ù…Ø© Ø§Ù„ØªØ´ØºÙŠÙ„`);
		} else {
			try {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

				var video = await youtube.getVideo(url);
			} catch (error) {
				try {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
					var videos = await youtube.searchVideos(searchString, 5);
					let index = 0;
					const embed1 = new Discord.RichEmbed()
			        .setDescription(`**Ø§Ù„Ø±Ø¬Ø¢Ø¡ Ù…Ù† Ø­Ø¶Ø±ØªÙƒ Ø¥Ø®ØªÙŠØ¢Ø± Ø±Ù‚Ù… Ø§Ù„Ù…Ù‚Ø·Ø¹** :
${videos.map(video2 => `[**${++index} **] \`${video2.title}\``).join('\n')}`)
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
					.setFooter("M Games")
					msg.channel.sendEmbed(embed1).then(message =>{message.delete(20000)})

					// eslint-disable-next-line max-depth
					try {
						var response = await msg.channel.awaitMessages(msg2 => msg2.content > 0 && msg2.content < 11, {
							maxMatches: 1,
							time: 15000,
							errors: ['time']
						});//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
					} catch (err) {
						console.error(err);
						return msg.channel.send('Ù„Ù… ÙŠØªÙ… Ø¥Ø®ØªÙŠØ¢Ø± Ù…Ù‚Ø·Ø¹ ØµÙˆØªÙŠ');
					}
					const videoIndex = parseInt(response.first().content);
					var video = await youtube.getVideoByID(videos[videoIndex - 1].id);
				} catch (err) {
					console.error(err);
					return msg.channel.send(':X: Ù„Ø§ ÙŠØªÙˆÙØ± Ù†ØªØ¢Ø¦Ø¬ Ø¨Ø­Ø« ');
				}
			}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

			return handleVideo(video, msg, voiceChannel);
		}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	} else if (command === `skip`) {
		if (!msg.member.voiceChannel) return msg.channel.send('Ø£Ù†Øª Ù„Ø³Øª Ø¨Ø±ÙˆÙ… ØµÙˆØªÙŠ .');
		if (!serverQueue) return msg.channel.send('Ù„Ø§ ÙŠØªÙˆÙØ± Ù…Ù‚Ø·Ø¹ Ù„ØªØ¬Ø¢ÙˆØ²Ù‡');
		serverQueue.connection.dispatcher.end('ØªÙ… ØªØ¬Ø¢ÙˆØ² Ù‡Ø°Ø¢ Ø§Ù„Ù…Ù‚Ø·Ø¹');
		return undefined;
	} else if (command === `stop`) {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		if (!msg.member.voiceChannel) return msg.channel.send('Ø£Ù†Øª Ù„Ø³Øª Ø¨Ø±ÙˆÙ… ØµÙˆØªÙŠ .');
		if (!serverQueue) return msg.channel.send('Ù„Ø§ ÙŠØªÙˆÙØ± Ù…Ù‚Ø·Ø¹ Ù„Ø¥ÙŠÙ‚Ø¢ÙÙ‡');
		serverQueue.songs = [];
		serverQueue.connection.dispatcher.end('ØªÙ… Ø¥ÙŠÙ‚Ø¢Ù Ù‡Ø°Ø¢ Ø§Ù„Ù…Ù‚Ø·Ø¹');
		return undefined;
	} else if (command === `vol`) {
		if (!msg.member.voiceChannel) return msg.channel.send('Ø£Ù†Øª Ù„Ø³Øª Ø¨Ø±ÙˆÙ… ØµÙˆØªÙŠ .');
		if (!serverQueue) return msg.channel.send('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø´ØºØ¢Ù„.');
		if (!args[1]) return msg.channel.send(`:loud_sound: Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª **${serverQueue.volume}**`);
		serverQueue.volume = args[1];//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		serverQueue.connection.dispatcher.setVolumeLogarithmic(args[1] / 50);
		return msg.channel.send(`:speaker: ØªÙ… ØªØºÙŠØ± Ø§Ù„ØµÙˆØª Ø§Ù„ÙŠ **${args[1]}**`);
	} else if (command === `np`) {
		if (!serverQueue) return msg.channel.send('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø­Ø§Ù„ÙŠ Ù Ø§Ù„Ø¹Ù…Ù„.');
		const embedNP = new Discord.RichEmbed()
	.setDescription(`:notes: Ø§Ù„Ø§Ù† ÙŠØªÙ… ØªØ´ØºÙŠÙ„ : **${serverQueue.songs[0].title}**`)
		return msg.channel.sendEmbed(embedNP);
	} else if (command === `queue`) {
		//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		if (!serverQueue) return msg.channel.send('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø­Ø§Ù„ÙŠ Ù Ø§Ù„Ø¹Ù…Ù„.');
		let index = 0;
		//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		const embedqu = new Discord.RichEmbed()
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
.setDescription(`**Songs Queue**
${serverQueue.songs.map(song => `**${++index} -** ${song.title}`).join('\n')}
**Ø§Ù„Ø§Ù† ÙŠØªÙ… ØªØ´ØºÙŠÙ„** ${serverQueue.songs[0].title}`)
		return msg.channel.sendEmbed(embedqu);
	} else if (command === `pause`) {
		if (serverQueue && serverQueue.playing) {
			serverQueue.playing = false;
			serverQueue.connection.dispatcher.pause();
			return msg.channel.send('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù…Ø¤Ù‚ØªØ§!');
		}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		return msg.channel.send('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø­Ø§Ù„ÙŠ Ù Ø§Ù„Ø¹Ù…Ù„.');
	} else if (command === "resume") {
		if (serverQueue && !serverQueue.playing) {
			serverQueue.playing = true;
			serverQueue.connection.dispatcher.resume();
			return msg.channel.send('Ø§Ø³ØªØ£Ù†ÙØª Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ùƒ !');
		}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		return msg.channel.send('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„.');
	}

	return undefined;
});
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
async function handleVideo(video, msg, voiceChannel, playlist = false) {
	const serverQueue = queue.get(msg.guild.id);
	console.log(video);
	//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
//	console.log('yao: ' + Util.escapeMarkdown(video.thumbnailUrl));
	const song = {
		id: video.id,
		title: Util.escapeMarkdown(video.title),
		url: `https://www.youtube.com/watch?v=${video.id}`
	};//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	if (!serverQueue) {
		const queueConstruct = {
			textChannel: msg.channel,
			voiceChannel: voiceChannel,
			connection: null,
			songs: [],
			volume: 5,
			playing: true
		};//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		queue.set(msg.guild.id, queueConstruct);
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		queueConstruct.songs.push(song);
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		try {
			var connection = await voiceChannel.join();
			queueConstruct.connection = connection;
			play(msg.guild, queueConstruct.songs[0]);
		} catch (error) {
			console.error(`I could not join the voice channel: ${error}`);
			queue.delete(msg.guild.id);
			return msg.channel.send(`Ù„Ø§ Ø£Ø³ØªØ·ÙŠØ¹ Ø¯Ø®ÙˆÙ„ Ù‡Ø°Ø¢ Ø§Ù„Ø±ÙˆÙ… ${error}`);
		}
	} else {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		serverQueue.songs.push(song);
		console.log(serverQueue.songs);
		if (playlist) return undefined;
		else return msg.channel.send(` **${song.title}** ØªÙ… Ø§Ø¶Ø§ÙÙ‡ Ø§Ù„Ø§ØºÙ†ÙŠØ© Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©!`);
	}
	return undefined;
}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

function play(guild, song) {
	const serverQueue = queue.get(guild.id);

	if (!song) {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		serverQueue.voiceChannel.leave();
		queue.delete(guild.id);
		return;//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	console.log(serverQueue.songs);
//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	const dispatcher = serverQueue.connection.playStream(ytdl(song.url))
		.on('end', reason => {//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
			if (reason === 'Stream is not generating quickly enough.') console.log('Song ended.');
			else console.log(reason);
			serverQueue.songs.shift();//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
			play(guild, serverQueue.songs[0]);
		})//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
		.on('error', error => console.error(error));//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
	dispatcher.setVolumeLogarithmic(serverQueue.volume / 5);//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

	serverQueue.textChannel.send(`Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ : **${song.title}**`);
}//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'



client.on("message", message => {
 if (message.content === `${prefix}music`) {
  const embed = new Discord.RichEmbed() //by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
      .setColor("RANDOM")//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
      .setDescription(`
${prefix}play â‡ ğŸµğŸ¤Ù„ØªØ´ØºÙŠÙ„ Ø£ØºÙ†ÙŠØ© Ø¨Ø±Ø¢Ø¨Ø· Ø£Ùˆ Ø¨Ø£Ø³Ù…ğŸ¤ğŸ¸
${prefix}skip â‡ ğŸ¼Ù„ØªØ¬Ø¢ÙˆØ² Ø§Ù„Ø£ØºÙ†ÙŠØ© Ø§Ù„Ø­Ø¢Ù„ÙŠØ©ğŸº
${prefix}pause â‡ ğŸ“¢Ø¥ÙŠÙ‚Ø¢Ù Ø§Ù„Ø£ØºÙ†ÙŠØ© Ù…Ø¤Ù‚ØªØ§ğŸ“£
${prefix}resume â‡ ğŸ§Ù„Ù…ÙˆØ¢ØµÙ„Ø© Ø§Ù„Ø¥ØºÙ†ÙŠØ© Ø¨Ø¹Ø¯ Ø¥ÙŠÙ‚Ø¢ÙÙ‡Ø¢ Ù…Ø¤Ù‚ØªØ§ğŸ·
${prefix}vol â‡ ğŸ”‡Ù„ØªØºÙŠÙŠØ± Ø¯Ø±Ø¬Ø© Ø§Ù„ØµÙˆØª 100 - 0ğŸ”Š
${prefix}stop â‡ ğŸ”’Ù„Ø¥Ø®Ø±Ø¢Ø¬ Ø§Ù„Ø¨ÙˆØª Ù…Ù† Ø§Ù„Ø±ÙˆÙ…ğŸ”˜
${prefix}np â‡ ğŸ”Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø£ØºÙ†ÙŠØ© Ø§Ù„Ù…Ø´ØºÙ„Ø© Ø­Ø¢Ù„ÙŠØ§ğŸ”–
${prefix}queue â‡ â™ Ù„Ù…Ø¹Ø±ÙØ© Ù‚Ø¢Ø¦Ù…Ø© Ø§Ù„ØªØ´ØºÙŠÙ„â—
 `)//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'
   message.channel.sendEmbed(embed)//by ,$ ReBeL Ø¡ , ğŸ”•#4777 'CODES SERVER'

   }
   });



  client.on('message', message => {

    if (message.content === "&count") {

    let embed = new Discord.RichEmbed()

.addField('**Count**: ' , message.guild.memberCount)
.setColor("RANDOM")
.setDescription(`${message.guild.name}`)
     message.channel.sendEmbed(embed);
} 

});

a.on('message', message => {
            if (message.content.startsWith(prefix + "help")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField('**&bc = Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª** ')
.addField('**&count = Ø¹Ø¯Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ± **') 
.setColor('RANDOM')
  message.channel.sendEmbed(embed);
    }
});



a.on("message", message => {

            if (message.content.startsWith(prefix + "bc")) {
                         if (!message.member.hasPermission("ADMINISTRATOR"))  return;
  let args = message.content.split(" ").slice(1);
  var argresult = args.join(' '); 
  message.guild.members.filter(m => m.presence.status !== 'all').forEach(m => {
 m.send(`${argresult}\n ${m}`);
})
 message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'all').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`); 
 message.delete(); 
};     
});

  a.on('message', message => {

    if (message.content === "&count") {

    let embed = new Discord.RichEmbed()

.addField('**Count**: ' , message.guild.memberCount)
.setColor("RANDOM")
.setDescription(`${message.guild.name}`)
     message.channel.sendEmbed(embed);
} 

});




b.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(` 
**
Ø¨Ù†ÙƒÙŠ Ø§Ù„ÙˆØ³ÙŠØ· Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ Ø¨Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø§ÙˆØ³Ø·

Ù…ÙˆÙ‚Ø¹ Ø¨Ù†ÙƒÙŠ Ù†Ù‚Ø·Ø© Ù…Ù‡Ù…Ù‡ Ø¬Ø¯Ø§ÙÙ Ù„Ø±Ø¤ÙŠÙ‡ Ø³ÙŠØ¯ÙŠ ØµØ§Ø­Ø¨ Ø§Ù„Ø³Ù…Ùˆ Ø§Ù„Ù…Ù„ÙƒÙŠ ÙˆÙ„ÙŠ Ø§Ù„Ø¹Ù‡Ø¯ Ø§Ù„Ø£Ù…ÙŠØ± Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ù„Ù…Ø§Ù† ÙŠØ­ÙØ¸Ù‡ Ø§Ù„Ù„Ù‡  2030

ÙˆØ°Ù„Ùƒ Ø¨ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØªÙŠØ© ÙˆØªÙ†Ø¸ÙŠÙÙ‡Ø§ ØªÙ…Ø§Ù…Ø§ÙÙ Ù…Ù† Ø§Ù„Ù„ØµÙˆØµ Ø¨Ø­ÙŠØ« ØªÙƒÙˆÙ† Ø¬Ù…ÙŠØ¹ Ù…Ø´ØªØ±ÙŠØ§ØªÙƒÙ… Ø¢Ù…Ù†Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ Ø¨Ø£Ø°Ù† Ø§Ù„Ù„Ù‡

Ø¨Ø­ÙŠØ« Ø³ØªØ´Ù…Ù„ Ø§Ù„Ø±Ø¤ÙŠÙ‡ ØªØ·ÙˆØ±Ø§ÙÙ ÙƒØ§Ù…Ù„Ø§ÙÙ Ù„Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ø¯Ø§Ø®Ù„ ÙˆØ®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØªÙŠØ©

Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠÙ‡ Ø¯ÙˆÙ„Ù‡ Ø¹Ø¸ÙŠÙ…Ù‡, Ø¯ÙˆÙ„Ø© Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø£Ù…Ø§Ù†, ÙˆÙ„Ø°Ù„Ùƒ Ø³Ù†Ø¬Ø¹Ù„ Ø§Ù„Ø§Ù†ØªØ±Ù†Øª Ø¬Ø²Ø¡ÙÙ Ù„Ø§ ÙŠØªØ¬Ø²Ø£ Ù…Ù† Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠÙ‡

Ù‡Ø¯ÙÙ†Ø§ Ø£Ù† Ù†Ø¬Ø¹Ù„ Ø§Ù„Ø§Ù†ØªØ±Ù†Øª Ù…ÙƒØ§Ù† Ø¢Ù…Ù† Ø¨Ø­ÙŠØ« Ù„Ø§ ÙŠØ®Ø§Ù Ø£ÙŠ Ù…Ù† Ø§Ù„Ø·Ø±ÙÙŠÙ† Ø¨Ù„ Ø³ÙŠØ£Ø®Ø° ÙƒÙ„ Ø°ÙŠ Ø­Ù‚Ø§ÙÙ Ø­Ù‚Ù‡

Ø³Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ø³Ø¨ÙˆØ¹ÙŠÙ‡ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ø­ØªÙ‰ ÙŠÙ„ÙŠÙ‚ ØªØµÙ…ÙŠÙ…Ù‡ Ø¨Ø³Ù…ÙˆÙƒÙ… ØªØ±Ù‚Ø¨ÙˆÙ†Ø§ Ø£Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ù‚Ø±ÙŠØ¨Ø§ÙÙ

 Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ https://www.banki.sa.com/index.php 

Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø³ÙƒÙˆØ±Ø¯ : https://discord.gg/ysKr9dJ
[${member}]
**`) 
}).catch(console.error)
})







client.login(process.env.BOT_TOKEN);
a.login(process.env.A);
b.login(process.env.B);
